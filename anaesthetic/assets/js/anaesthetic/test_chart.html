<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Example Anaesthesia Chart</title>
    <style>
        text.title{
          font-weight: bold;
          font-size: 2em;
        }

        circle .point{
           fill: black;
            stroke: black;
            stroke-width: 1px;
          }
        circle .empty_point{
            fill: white;
            stroke: black;
            stroke-width: 1px;
        }
        rect .empty_point{
            fill: white;
            stroke: black;
            stroke-width: 1px;
        }


        svg .axis path, svg .axis line{
          fill: none;
          stroke: #262626;
          shape-rendering: crispEdges;
        }
        svg .axis text{
          font-family: sans-serif;
        }
        svg .background .green{
          fill: #ccffcc;
        }
        svg .background .amber{
          fill: #ffe9c8;
        }
        svg .background .red{
          fill: #ffcccc;
        }

        svg .background .normal{
          fill: white;
          stroke: white;
        }

        svg .background line{
          fill: none;
          stroke: rgba(0,0,0,0.15);
          shape-rendering: crispEdges;
        }
        svg .brush{
          fill: rgba(0,0,0,0.3);
        }

        svg .data path{
          fill: none;
          stroke: rgba(40,40,40,0.6);
          shape-rendering: optimizeSpeed;
        }

        #chart_popup{
          font-family: sans-serif;
          background-color: rgba(0,0,0,0.6);
          color: #ffffff;
          display: inline-block;
          padding: 0.5em 1%;
          position: absolute;
          top: 0;
          left: 0;
          border-radius: 10px;
          margin-top: -2.2em;
          margin-left: -1.5%;
        }
        #chart_popup.hidden{
          display: none;
        }

    </style>
</head>
<body>
    <div id="chart"></div>
    <script src="https://d3js.org/d3.v3.min.js" charset="utf-8"></script>
    <script src="graphlib.js" type="text/javascript"></script>
    <script>
        var chart = new window.NH.NHGraphLib('#chart');
        var data = [
            {
                'date_terminated': '2016-05-14 09:00:00',
                'blood_pressure_systolic': 120,
                'blood_pressure_diastolic': 80,
                'pulse': 80
            },
            {
                'date_terminated': '2016-05-14 09:05:00',
                'blood_pressure_systolic': 110,
                'blood_pressure_diastolic': 70,
                'pulse': 70
            },
            {
                'date_terminated': '2016-05-14 09:10:00',
                'blood_pressure_systolic': 100,
                'blood_pressure_diastolic': 60,
                'pulse': 80
            }
        ]
        var graph = new window.NH.NHGraph();
        graph.options.keys = ['pulse', ['blood_pressure_systolic', 'blood_pressure_diastolic']];
        graph.options.label = '';
        graph.options.measurement = '';
        graph.axes.y.min = 30;
        graph.axes.y.max = 220;
        graph.style.dimensions.height = 300;
        graph.style.data_style = 'multi';

        var focus = new window.NH.NHFocus();
        focus.graphs.push(graph);
        focus.title = 'Pulse/BP';
        chart.focus = focus;
        chart.data.raw = data;
        chart.init();
        chart.draw();
    </script>
</body>
</html>